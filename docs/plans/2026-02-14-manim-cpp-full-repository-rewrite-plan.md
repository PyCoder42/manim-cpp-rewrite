# Manim-Cpp Full Repository Rewrite Plan

## Summary
Rewrite the entire repository at `/Users/saahir/Desktop/Coding/Manim stuff/Manim to C++` into a pure C++23 monorepo with zero Python files remaining on the mainline branch.

Target is near-1:1 Manim CE behavior parity, dual Cairo/OpenGL support, bitwise rendering parity against per-platform baselines, preserved `manim.cfg` semantics, preserved docs locales/catalogs, and a renamed primary CLI/product (`manim-cpp`) with temporary aliases (`manim`, `manimce`) for one major version.

## Progress Checklist

### Public APIs, Interfaces, and Type Contracts
- [x] CLI binaries scaffolded: `manim-cpp`, `manim`, `manimce`, and `manim-cpp-migrate`
- [x] Scene authoring registration macro scaffolded (`MANIM_REGISTER_SCENE`)
- [x] Core namespace scaffolded: `scene`, `mobject`, `animation`, `renderer`, `camera`, `config`, `plugin`
- [x] Plugin ABI v1 header + loader scaffolded (`manim_plugin_init` contract)
- [x] `manim.cfg` compatibility baseline copied to `config/manim.cfg.default`
- [x] Subtitle/media writer API scaffolding added (`SceneFileWriter`, sections, subcaption API placeholder)
- [x] Baseline artifact contract acknowledged in tests/docs (npz retained for now)

### Repository Restructure (Final State)
- [x] Runtime source in `src/manim_cpp/...`
- [x] Public headers in `include/manim_cpp/...`
- [x] CLI apps in `apps/manim_cpp_cli/` and `apps/manim_cpp_migrate/`
- [x] Plugin SDK and ABI headers in `plugins/sdk/`
- [x] C++ tests scaffold in `tests_cpp/`
- [x] Docs scaffold in `docs/book/` and `docs/api/`
- [x] Non-Python tooling scaffold in `tools/`
- [x] Top-level CMake and presets added
- [x] Legacy Python removal (completed cutover; zero tracked Python files)

### Implementation Workstreams and Milestones
- [x] Milestone A: Foundation and build skeleton
- [x] Milestone B: Core math and geometry kernel
- [x] Milestone B.1: Math kernel bootstrap (`choose`, `rotate_z`, fan triangulation) with `gtest` coverage
- [x] Milestone B.2: Introduce Eigen-backed vector/matrix adapters for kernel usage
- [x] Milestone B.3: Port geometry algorithms (triangulation variants, boolean path ops, graph layouts, isocurve extraction)
- [x] Milestone B.3.a: Ear-clipping triangulation for simple concave/convex polygons
- [x] Milestone B.3.b: Boolean path operations
- [x] Milestone B.3.b.1: Foundational path predicates (`segments_intersect`, `point_in_polygon`, `has_self_intersections`)
- [x] Milestone B.3.b.2: Convex polygon intersection via Sutherland-Hodgman clipping
- [x] Milestone B.3.b.3: Public polygon signed-area/area helpers for winding-sensitive path operations
- [x] Milestone B.3.b.4: Convex union/difference area helpers (`union_area_convex_polygons`, `difference_area_convex_polygons`)
- [x] Milestone B.3.c: Graph layouts, isocurve extraction, and combinatorics helpers
- [x] Milestone B.3.c.1: Deterministic circular graph layout helper
- [x] Milestone B.3.c.2: Marching-squares isocurve extraction helper
- [x] Milestone B.3.c.3: Combinatorics helpers parity
- [x] Milestone C: Scene graph and animation engine parity
- [x] Milestone C.1: Scene lifecycle runner (`setup` -> `construct` -> `tear_down`)
- [x] Milestone C.2: Basic animation playback timeline with updater ticks and elapsed-time tracking
- [x] Milestone C.3: Deterministic scene RNG seed controls (`set_random_seed`, replayable random stream)
- [x] Milestone C.4: Animation run-time and rate-function support integrated into `Scene::play`
- [x] Milestone C.5: Base `Mobject` scene-graph node supports child lists, center transforms, and opacity state
- [x] Milestone C.6: `Scene` tracks unique mobject instances with add/remove/clear semantics
- [x] Milestone C.7: Added concrete geometry mobjects (`Dot`, `Circle`, `Square`) with deterministic radius/vertex contracts and C++ unit coverage
- [x] Milestone C.8: Added concrete transform/fade animation primitives (`MoveToAnimation`, `ShiftAnimation`, `FadeToOpacityAnimation`) with timeline integration tests
- [x] Milestone C.9: Added C++ `ValueTracker` mobject parity (`value`, `set_value`, `increment_value`) with deterministic precision coverage
- [x] Milestone C.10: Added `Graph` mobject parity scaffold with deterministic circular layout vertex positioning and validated edge/vertex contracts
- [x] Milestone C.11: Added composed animation primitives (`ParallelAnimation`, `SuccessionAnimation`) for deterministic multi-animation timeline mapping
- [x] Milestone C.12: Added scene-type parity scaffolds (`MovingCameraScene`, `ThreeDScene`, `ZoomedScene`) with deterministic camera/orientation/zoom contracts
- [x] Milestone C.13: Added explicit `Scene::wait(seconds)` timeline API with deterministic updater/time accumulation semantics
- [x] Milestone C.14: Added `Line` geometry mobject parity (`start`, `end`, `length`, `unit_vector`, `set_points`) with degenerate-endpoint validation and deterministic transform behavior coverage
- [x] Milestone C.15: Added `Rectangle` geometry mobject parity (`width`, `height`, center-tracked `vertices`) with non-positive dimension validation
- [x] Milestone C.16: Added `Triangle` geometry mobject parity (`side_length`, centroid-centered equilateral `vertices`) with non-positive side-length validation
- [x] Milestone C.17: Added `RegularPolygon` geometry mobject parity (`n_sides`, `radius`, deterministic top-start vertex winding) with side-count/radius validation
- [x] Milestone C.18: Added `Ellipse` geometry mobject parity (`width`, `height`, `point_at_angle`) with non-positive dimension validation
- [x] Milestone C.19: Added `Arc` geometry mobject parity (`radius`, `start_angle`, `angle`, `point_at_proportion`) with non-positive radius validation
- [x] Milestone C.20: Added `LaggedStartAnimation` composition primitive with deterministic overlap scheduling (`lag_ratio`) and negative-ratio validation
- [x] Milestone C.21: Added `Annulus` geometry mobject parity (`inner_radius`, `outer_radius`, angle-point helpers) with strict radius-order validation
- [x] Milestone C.22: Added `Sector` geometry mobject parity (`inner/outer radii`, `start_angle`, `angle`, boundary point helpers) with radius-configuration validation
- [x] Milestone D: Cairo backend parity
- [x] Milestone D.1: Renderer type parsing, string conversion, and factory creation for Cairo/OpenGL backends
- [x] Milestone D.2: Cairo renderer deterministic frame naming + static-frame signature dedupe scaffold
- [x] Milestone D.3: Scene output directory planning resolves deterministic image/video/partial paths from `manim.cfg` templates (`module_name`, `quality`, `scene_name`)
- [x] Milestone D.4: Camera configuration scaffold now supports deterministic frame rate, pixel-size, and aspect-ratio contracts with unit coverage
- [x] Milestone D.5: `render --scene` now emits deterministic per-frame image placeholders into resolved `images_dir` using Cairo frame-naming contracts
- [x] Milestone D.6: `render --scene` frame/media artifact bytes now carry deterministic payload metadata (scene/renderer/frame/format/fps) for reproducible bitwise regression checks
- [x] Milestone E: OpenGL backend + interaction parity
- [x] Milestone E.1: Shader root discovery supports `MANIM_CPP_SHADER_ROOT` override for runtime/packaged deployments
- [x] Milestone E.2: OpenGL renderer shader root/path helpers for deterministic program-stage shader resolution
- [x] Milestone E.3: `render` accepts `--watch` / `--interactive` interaction flags and surfaces resolved state
- [x] Milestone E.4: `render` accepts OpenGL window/GUI flags (`--enable_gui`, `--fullscreen`, `--force_window`, `--window_position`, `--window_size`, `--window_monitor`) with strict validation
- [x] Milestone E.5: Added deterministic interaction/window parsing + camera control state machine (`renderer::InteractionSession`) with CLI validation for `--window_position`/`--window_size`
- [x] Milestone E.6: Added OpenGL deterministic frame naming + static-frame signature dedupe parity contracts with unit coverage
- [x] Milestone E.7: `render --scene` frame-image emission path now applies OpenGL deterministic frame-naming contracts with CLI integration coverage
- [x] Milestone E.8: `render` now supports deterministic interaction-script replay (`--interaction_script`) with strict command parsing and camera-state reporting
- [x] Milestone F: Media/file writer + subtitles/audio parity
- [x] Milestone F.1: Subcaption collection + `.srt` file emission scaffold
- [x] Milestone F.2: Explicit section tracking and per-section partial movie routing
- [x] Milestone F.3: Audio segment layering scaffold (`path`, start offset, gain) with input validation
- [x] Milestone F.4: Deterministic animation-driven partial movie caching with section skip handling
- [x] Milestone F.5: Scene media manifest JSON writer captures sections, subcaptions, and audio segment metadata
- [x] Milestone F.6: Typed media-format parser/stringifier covers `png`, `gif`, `mp4`, `webm`, and `mov`
- [x] Milestone F.7: `SceneFileWriter::resolve_output_paths` provides config-driven media path contract with nullopt on unresolved placeholders
- [x] Milestone F.8: `SceneFileWriter` manifest now carries deterministic render summary metadata (frame count, resolution, fps, format, codec hint, duration, output file)
- [x] Milestone F.9: `render --scene` now emits config-resolved media artifacts (output media file, manifest JSON, `.srt`) with deterministic metadata contract
- [x] Milestone F.10: Section timeline metadata (`start_seconds`, `end_seconds`) now validates and serializes into media manifests for deterministic section timing parity
- [x] Milestone F.11: Centralized media codec-hint contract in `scene::media_format` and wired `SceneFileWriter` summary metadata to use typed format mapping
- [x] Milestone F.12: `render --scene` now seeds manifest section timeline metadata from measured scene elapsed time (`0.0 -> elapsed_seconds`) when animations run
- [x] Milestone G: CLI/config parity
- [x] Milestone G.1: Command/subcommand validation scaffolding with deterministic exit codes
- [x] Milestone G.2: `cfg show` and `cfg write` operate on real config files/templates
- [x] Milestone G.3: `plugins list <dir>` validates input and reports discovered shared libraries
- [x] Milestone G.4: `checkhealth --json` emits machine-readable dependency status
- [x] Milestone G.5: `init scene <output.cpp>` generates a compilable C++ scene template with `MANIM_REGISTER_SCENE`
- [x] Milestone G.6: `init project <dir>` generates `manim.cfg` + `scenes/main_scene.cpp` scaffold
- [x] Milestone G.7: `plugins list --recursive <dir>` supports nested plugin discovery
- [x] Milestone G.8: Config loader supports deterministic multi-file precedence layering with reset-safe `load_from_file`
- [x] Milestone G.9: `render` validates `--renderer <cairo|opengl>` and reports selected backend in scaffold output
- [x] Milestone G.10: `checkhealth --json` includes explicit supported renderer metadata
- [x] Milestone G.11: `plugins load` emits plugin log lines and registered scene symbols from host callback wiring
- [x] Milestone G.12: `render` validates `--format` and reports resolved media format in scaffold output
- [x] Milestone G.13: `checkhealth --json` emits supported output format metadata for automation clients
- [x] Milestone G.14: `ManimConfig::resolve_path` expands nested `{...}` directory templates (CLI/custom_folders) with explicit substitution inputs
- [x] Milestone G.15: `render --help` now emits detailed option contract (renderer/format/watch/interactive/window flags) with CLI compatibility test coverage
- [x] Milestone G.16: `render --scene <SceneName>` now resolves and executes registered C++ scenes via `SceneRegistry`, with explicit unknown-scene failure coverage
- [x] Milestone G.17: Added explicit alias compatibility checks so `manim --version` and `manimce --version` are enforced in `ctest`
- [x] Milestone G.18: `checkhealth` text mode now reports supported renderer/format metadata alongside ffmpeg and plugin directory status
- [x] Milestone G.19: `render` CLI output now emits deterministic `codec_hint` metadata derived from selected output format
- [x] Milestone G.20: `plugins path` and `checkhealth` now honor `MANIM_CPP_PLUGIN_DIR` override for environment-driven plugin directory resolution
- [x] Milestone G.21: `plugins list/load` now default to resolved plugin directory (including `MANIM_CPP_PLUGIN_DIR` override) when `<directory>` is omitted
- [x] Milestone G.22: Added `manim.cfg` section/key compatibility enforcement for parity-critical sections (`[CLI]`, `[custom_folders]`, `[logger]`, `[ffmpeg]`, `[jupyter]`) via `ManimCfgContractCheck`
- [x] Milestone H: Plugin system parity
- [x] Milestone H.1: Plugin discovery by shared-library extension + host ABI version gate
- [x] Milestone H.2: Batch plugin loading API with deterministic failure aggregation
- [x] Milestone H.3: Directory-first plugin load convenience API (discover + batch load)
- [x] Milestone H.4: CLI `plugins load [--recursive] <dir>` bridges discovery/loading APIs with deterministic host ABI wiring
- [x] Milestone H.5: C++ plugin SDK `HostApiView` wraps ABI callbacks with compatibility checks and dispatch helpers
- [x] Milestone H.6: Plugin SDK `initialize_plugin` helper enforces ABI gate and standard handler dispatch
- [x] Milestone H.7: Shared-library plugin fixture integration test validates real load path and host callback wiring
- [x] Milestone I: Migration utility parity
- [x] Milestone I.1: Detect `Scene`-family base classes + preserve original `self.*(...)` calls as TODO annotations
- [x] Milestone I.2: `manim-cpp-migrate --report <file>` writes deterministic migration summaries
- [x] Milestone I.3: `manim-cpp-migrate <dir> --out-dir <dir>` batch-converts `.py` scenes to deterministic `.cpp` outputs
- [x] Milestone I.4: `manim-cpp-migrate --recursive` discovers nested scene files and preserves relative output paths
- [x] Milestone I.5: Directory migration fails fast with deterministic error when no Python scene files are discovered
- [x] Milestone I.6: Migration now translates common construct calls (`self.wait(...)`, `self.clear()`) into runnable C++ scene calls while preserving TODO markers for unsupported patterns
- [x] Milestone I.7: Migration now preserves detected scene base-class inheritance (`Scene`, `MovingCameraScene`, `ThreeDScene`) in generated C++ class declarations
- [x] Milestone I.8: Migration now translates `self.wait(duration=<numeric>)` keyword calls into deterministic C++ `wait(<numeric>)` output
- [x] Milestone I.9: Migration now translates `self.set_random_seed(<int>)` and `self.clear_updaters()` into runnable C++ scene calls
- [x] Milestone I.10: Migration now detects/preserves `ZoomedScene` inheritance and emits the corresponding C++ scene-type include
- [x] Milestone I.11: Migration now translates constructor-safe `self.add(...)` and `self.remove(...)` calls into deterministic C++ `std::make_shared` geometry mobject expressions
- [x] Milestone I.12: Migration argument splitting now handles nested delimiters/quotes to safely parse multi-argument construct calls
- [x] Milestone I.13: Migration now rejects Python keyword-argument constructor calls during `add/remove` translation and falls back to explicit TODO markers (prevents invalid C++ output)
- [x] Milestone J: Test suite full port
- [x] Milestone J.1: Added C++ unit/integration coverage for core math/scene/cli/plugin/migrate scaffolds
- [x] Milestone J.2: Added shared-library plugin integration fixture coverage in `ctest`
- [x] Milestone J.3: Added C++ `.npz` control-data regression harness (`NpzArchive`) that validates graphical baseline archives without Python
- [x] Milestone J.4: Added example-scene registry/run integration coverage by linking converted C++ `example_scenes` into `manim_cpp_tests`
- [x] Milestone J.5: Expanded example-scene integration coverage so every converted C++ scene registration executes `run()` without throwing
- [x] Milestone J.6: Replaced TODO-only bodies in converted advanced/custom/OpenGL example scenes with deterministic runnable C++ animation scaffolds
- [x] Milestone J.7: Added non-Python CTest coverage for CLI alias binaries (`manim`, `manimce`) to enforce one-major-version compatibility contract
- [x] Milestone J.8: Added CLI integration coverage for human-readable `checkhealth` renderer/format metadata reporting
- [x] Milestone J.9: Added unit coverage for `Arc` geometry mobject deterministic endpoint/proportion contracts
- [x] Milestone J.10: Added unit/integration coverage for `LaggedStartAnimation` schedule mapping and scene-duration integration
- [x] Milestone J.11: Added migration integration coverage for constructor-safe `add/remove` translations and unsupported-argument fallback TODO behavior
- [x] Milestone J.12: Added geometry unit coverage for `Annulus`/`Sector` radius validation and deterministic boundary-point contracts
- [x] Milestone J.13: Added media-format + CLI integration coverage for format-to-codec-hint mapping across `png/gif/mp4/webm/mov`
- [x] Milestone J.14: Added CLI integration coverage that renders every converted C++ example scene and validates media/manifest/subcaption artifact emission
- [x] Milestone J.15: Added migration regression coverage that enforces TODO fallback for keyword-argument constructor calls in translated `add/remove` lines
- [x] Milestone J.16: Added CLI integration coverage for `MANIM_CPP_PLUGIN_DIR` override behavior in `checkhealth --json` and `plugins path`
- [x] Milestone J.17: Added CLI integration coverage enforcing manifest section timeline emission (`start_seconds`, `end_seconds`) for elapsed timed scenes
- [x] Milestone J.18: Added CLI integration coverage for default plugin-directory discovery when `plugins list` omits explicit path
- [x] Milestone J.19: Added render-regression bitwise parity harness (`RenderBitwiseParity`) with committed per-platform Cairo/OpenGL baseline hashes
- [x] Milestone J.20: Added dedicated cross-platform Plugin ABI CI workflow (`cxx-plugin-abi-matrix.yml`) plus repository guard (`PluginAbiWorkflowCheck`)
- [x] Milestone J.21: Added interaction-script unit/CLI coverage for deterministic command parsing, replay, and invalid-script failure handling
- [x] Milestone J.22: Added original-Manim feature cross-test matrix mapping parity-scope features to enforced CTest coverage (`OriginalFeatureCrossTestCoverageCheck`)
- [x] Milestone J.23: Added `tools/tests/run_original_feature_cross_tests.sh` helper to execute parity-scope feature buckets from the cross-test matrix against CTest
- [x] Milestone J.24: Hardened original-feature matrix guard to reject duplicate `feature_id` and duplicate `required_test_regex` rows (prevents drift/masked coverage)
- [x] Milestone J.25: Expanded original-feature matrix to include config precedence/template resolution, camera frame contract, and math/Eigen parity coverage buckets
- [x] Milestone J.26: Expanded original-feature matrix to include triangulation, path-ops, graph-layout, and isocurve algorithm parity coverage buckets
- [x] Milestone K: Docs and i18n migration parity
- [x] Milestone K.1: Added non-Python i18n catalog continuity check (`DocsI18nCatalogCheck`) to `ctest`
- [x] Milestone K.2: Added non-Python docs build entrypoint (`tools/docs/build_docs.sh`) and updated `docs/Makefile`/`docs/make.bat` wrappers
- [x] Milestone K.3: Implemented deterministic non-Python gettext template extraction for mdBook + Doxygen (`tools/i18n/extract_gettext.sh`) with `DocsGettextTemplateCheck`
- [x] Milestone K.5: Pruned legacy Sphinx-era gettext template tree to mdBook/API scope only (`book.pot`, `api.pot`) with enforcement (`GettextTemplateScopeCheck`)
- [x] Milestone K.6: Scoped per-locale catalogs to active mdBook/API components only (`book.po`, `api.po`) and added repository enforcement (`I18nCatalogScopeCheck`)
- [x] Milestone K.7: Updated mdBook metadata author contract to `manim-cpp contributors` and added repository enforcement (`BookMetadataCxxCheck`)
- [x] Milestone K.8: Migrated release changelog generator to mdBook Markdown output/paths with dynamic GitHub PR links and repository enforcement (`ChangelogMarkdownCheck`)
- [x] Milestone K.9: Converted the remaining tracked docs template from `.rst` to Markdown and enforced zero tracked `.rst` artifacts (`NoRstArtifactsCheck`)
- [x] Milestone L: Release engineering and cutover
- [x] Milestone L.1: Added transitional Python inventory allowlist gate (`PythonInventoryAllowlistCheck`) to track and shrink legacy Python footprint
- [x] Milestone L.2: Updated GitHub Python gate workflow to enforce allowlist inventory now and strict zero-Python automatically when allowlist is empty
- [x] Milestone L.3: Removed legacy Python workflows (`ci.yml`, `python-publish.yml`, `release-publish-documentation.yml`) and enforced absence via CTest (`LegacyPythonWorkflowModeCheck`)
- [x] Milestone L.4: Removed `.github/scripts/ci_build_cairo.py` and tightened transitional allowlist scope by dropping `.github/scripts/*`
- [x] Milestone L.5: Replaced `scripts/make_and_open_docs.py` with `scripts/make_and_open_docs.sh` and migrated the docstring template from `.py` to `.rst`, shrinking `scripts/` allowlist scope
- [x] Milestone L.6: Removed legacy Sphinx `docs/source/conf.py` from tracked Python inventory after docs toolchain migration to mdBook + Doxygen
- [x] Milestone L.7: Converted `example_scenes/basic.py`, `advanced_tex_fonts.py`, and `customtex.py` to compiled C++ scene stubs and narrowed Python allowlist to `example_scenes/opengl.py`
- [x] Milestone L.8: Converted `example_scenes/opengl.py` to compiled C++ scene stubs; `example_scenes/` is now Python-free
- [x] Milestone L.9: Replaced `scripts/extract_frames.py` with `manim-cpp-extract-frames` (C++) + `scripts/extract_frames.sh`, reducing allowlist to `manim/*`, `tests/*`, and `scripts/dev_changelog.py`
- [x] Milestone L.10: Removed legacy `manim/` and `tests/` Python sources from the tracked tree; transitional allowlist now contains only `scripts/dev_changelog.py`
- [x] Milestone L.11: Replaced `scripts/dev_changelog.py` with `scripts/dev_changelog.sh` (non-Python) and removed the final tracked Python source file
- [x] Milestone L.12: Emptied `config/python_allowlist.txt` to transition CI from transitional allowlist mode to strict zero-Python enforcement mode
- [x] Milestone L.13: Added cross-platform `cxx-release.yml` artifact pipeline + non-Python release workflow enforcement (`CxxReleaseWorkflowCheck`)
- [x] Milestone L.14: Added PR milestone-gate enforcement workflow/template contract with repository guard (`MilestoneGateReviewCheck`)
- [x] Milestone L.15: Added CLI alias sunset contract (`manim`/`manimce`) with explicit deprecation warnings and one-major-version support metadata
- [x] Milestone L.16: Added cross-platform package-channel manifest pipeline (`cxx-package-channels.yml`) plus release manifest generator for Homebrew/Scoop/Winget/Chocolatey
- [x] Milestone L.17: Added explicit final cutover gate enforcement (`FinalCutoverGateCheck`) requiring checked parity gates before Python-free cutover completion
- [x] Milestone L.18: Purged legacy docs artifacts (`docs/source`, `docs/html`, old docs requirements files) and added repository enforcement (`LegacyDocsPurgeCheck`)
- [x] Milestone L.19: Converted `publish-docker.yml` to Python-free shell logic and `manim-cpp` image tags while keeping transitional `manim` tags
- [x] Milestone L.20: Rewrote top-level `README.md` for the C++23 monorepo workflow and added repository enforcement (`ReadmeCxxConversionCheck`)
- [x] Milestone L.21: Converted GitHub issue templates to C++ diagnostics (`compiler`, `cmake`, backend/toolchain details) and added repository enforcement (`IssueTemplateCxxCheck`)
- [x] Milestone L.22: Converted GitHub pull-request templates to `manim-cpp` wording and added repository enforcement (`PRTemplateCxxCheck`)
- [x] Milestone L.23: Converted CodeQL workflow language target from Python to C++ and added repository enforcement (`CodeqlCxxWorkflowCheck`)
- [x] Milestone L.24: Converted package-channel manifest metadata from legacy `ManimCommunity/manim` URLs to dynamic current-repo URLs and added repository enforcement (`PackageManifestProjectUrlCheck`)
- [x] Milestone L.25: Converted Docker publish workflow to namespace-configurable tags (`IMAGE_NAMESPACE`) with repository enforcement (`DockerTagContractCheck`)
- [x] Milestone L.26: Purged tracked legacy `manim/` tree + Python packaging metadata artifacts and added repository enforcement (`LegacyArtifactsPurgeCheck`)
- [x] Milestone L.27: Scoped remaining legacy repository-token references to explicit enforcement files only and added repository enforcement (`LegacyReferenceScopeCheck`)
- [x] Milestone L.28: Added duplicate-copy artifact guard for tracked/untracked filenames (`NoDuplicateCopyArtifactsCheck`) to prevent accidental `* 2.*`/`* copy.*` drift
- [x] Milestone L.29: Added backup/conflict artifact guard for tracked/untracked filenames (`NoBackupArtifactsCheck`) to block `.orig`/`.rej`/`.bak`/`*~` drift
- [x] Milestone L.30: Added workflow runtime guard to block Python setup/tool invocations in GitHub Actions (`NoPythonWorkflowToolingCheck`)
- [x] Milestone K.4: Expanded mdBook docs from scaffold pages to C++ workflow chapters (installation, quickstart, CLI, plugins, testing) and added repository enforcement (`BookDocsCoverageCheck`)

### Detailed Subsystem Mapping (Source-to-Source Intent)
- [x] `manim/mobject` -> `src/manim_cpp/mobject`
- [x] `manim/animation` -> `src/manim_cpp/animation`
- [x] `manim/scene` -> `src/manim_cpp/scene`
- [x] `manim/renderer` -> `src/manim_cpp/renderer`
- [x] `manim/_config` and `manim/cli` -> `src/manim_cpp/config` + `apps/manim_cpp_cli`
- [x] `manim/plugins` -> `src/manim_cpp/plugin` + `plugins/sdk`
- [x] `docs/source` and `docs/i18n` -> `docs/book` and `docs/api` while preserving locale catalogs
- [x] `tests/control_data` and `tests/test_graphical_units/control_data` consumed by C++ regression harness

### Test Cases and Acceptance Scenarios
- [x] CLI compatibility snapshots
- [x] Render parity (per-platform bitwise)
- [x] Media parity (metadata/timing/section outputs)
- [x] Scene API parity on example scenes
- [x] Interaction parity (GLFW/ImGui)
- [x] Plugin ABI integration tests (all platforms)
- [x] Migration utility integration tests
- [x] Docs/i18n build and catalog continuity checks
- [x] Strict zero-Python gate passing on mainline

### Rollout and Branching Strategy
- [x] Use phased cutover via `codex/*` branch workflow
- [x] Require milestone gate reviews before merging next tranche
- [x] Keep `manim`/`manimce` aliases for one major version after stable `manim-cpp`
- [x] Publish binary artifacts via GitHub Releases + OS package channels
- [x] Final cutover removes Python assets only after all parity gates pass

### Assumptions and Defaults (Locked)
- [x] Absolute zero Python in final repository and CI
- [x] Near-1:1 parity objective
- [x] C++ scene authoring only
- [x] Cairo + OpenGL + FFmpeg retained as core external libraries
- [x] Rebuild most non-core algorithmic logic in-repo
- [x] Monorepo architecture
- [x] C++23 baseline on GCC 13+/Clang 17+/MSVC 19.38+
- [x] System package dependency model (no Conan/vcpkg)
- [x] Platform scope: Linux + macOS + Windows
- [x] Docs stack: Doxygen + mdBook
- [x] Test stack: GoogleTest/GMock + custom render harness
- [x] Baseline artifact format stays `.npz` initially
- [x] Notebook workflow deferred
- [x] Quality-first schedule

## Notes
- Existing implementation commits already landed for the foundation and shader migration scaffolds.
- Ongoing execution style: strict TDD slices with checkpoint commits after each verified green batch.
- Current local verification command:
  `cmake --preset debug --fresh -D CMAKE_CXX_COMPILER=/opt/homebrew/opt/llvm/bin/clang++ -D CMAKE_CXX_FLAGS='-stdlib=libc++ -I/opt/homebrew/opt/llvm/include/c++/v1' -D CMAKE_EXE_LINKER_FLAGS='-L/opt/homebrew/opt/llvm/lib/c++ -Wl,-rpath,/opt/homebrew/opt/llvm/lib/c++ -stdlib=libc++' -D CMAKE_SHARED_LINKER_FLAGS='-L/opt/homebrew/opt/llvm/lib/c++ -Wl,-rpath,/opt/homebrew/opt/llvm/lib/c++ -stdlib=libc++' && cmake --build --preset debug -j4 && ctest --preset debug --output-on-failure`
